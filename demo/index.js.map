{"version":3,"sources":["../../webpack/bootstrap","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../lib/Component.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../lib/Recursion.js","../lib/index.js","../lib/Engine.js","Inject.js","Switch.js","Debug.js","index.js","App.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof","obj","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperty","configurable","writable","Component","this","_arrayLikeToArray","arr","len","length","arr2","Array","_unsupportedIterableToArray","minLen","toString","slice","from","test","_createForOfIteratorHelper","allowArrayLike","it","isArray","F","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2","_toConsumableArray","iter","Recursion","nodes","targetNode","filter","node","outputs","reduce","acc","indexOf","id","inputNodes","array2","inters","inter","findSelf","extractInputNode","Engine","version","component","Error","engine","components","data","recurrentNode","detect","input","undefined","output","type","worker","_","outputNodeIds","idx","nextInput","nodeId","nextNode","find","forwardProcess","startId","json","assign","validate","Inject","Switch","Debug","app","Lib","register","process","console","log"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","class Component {\n  name = null;\n  engine = null;\n  constructor(name) {\n    this.name = name;\n  }\n}\n\nexport default Component;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/* \n * Deteksi Pengulangan\n * Ref: https://github.com/retejs/rete/blob/master/src/engine/recursion.ts\n */\n\nconst intersect = (array1, array2) => {\n  return array1.filter(value => array2.indexOf(value) !== -1);\n}\n\nclass Recursion {\n  constructor(nodes) {\n    this.nodes = nodes;\n  }\n\n  extractInputNode = (targetNode) => {\n    return this.nodes.filter(node => {\n      if (node.outputs.length < 1) return false;\n      return node.outputs\n        .reduce((acc, n) => {\n          if (Array.isArray(n)) return [...acc, ...n]\n          return acc;\n        })\n        .indexOf(targetNode.id) !== -1;\n    });\n  }\n\n  findSelf = (nodes, inputNodes) => {\n    const inters = intersect(nodes, inputNodes);\n\n    if (inters.length)\n      return inters[0];\n\n    for (let node of inputNodes) {\n      let l = [node, ...nodes];\n      let inter = this.findSelf(l, this.extractInputNode(node));\n      if (inter)\n        return inter;\n    }\n\n    return null;\n  }\n\n  detect = () => {\n\n    let nodes = this.nodes;\n\n    for (let node of nodes) {\n      const inters = this.findSelf([node], this.extractInputNode(node));\n\n      if (inters)\n        return inters;\n    }\n\n    return null;\n  }\n}\n\nexport default Recursion;","import Engine from \"./Engine\";\nimport Component from \"./Component\";\nimport Recursion from \"./Recursion\";\n\nexport { default as Engine } from \"./Engine\";\nexport { default as Component } from \"./Component\";\nexport { default as Recursion } from \"./Recursion\";\n\nexport default {\n  Engine,\n  Component,\n  Recursion,\n};","import Component from './Component';\nimport './css/App.css';\nimport Recursion from './Recursion';\n\nclass Engine {\n  version = null;\n  components = {};\n  data = null;\n\n  constructor(version) {\n    this.version = version;\n  }\n\n  register = (component) => {\n    if (!(component instanceof Component)) throw new Error(\"Not Valid Component\");\n    if (!component.name) throw new Error(`Property name is \\`${component.name}\\``);\n\n    component.engine = this;\n\n    this.components[component.name] = component;\n\n    return this;\n  }\n\n  validate = (data) => {\n    if (typeof data !== \"object\") return false;\n    if (data.version !== this.version) throw new Error(\"Version not compatible\");\n    if (!Array.isArray(data.nodes)) return false;\n\n    const recursion = new Recursion(data.nodes);\n    const recurrentNode = recursion.detect();\n\n    if (recurrentNode)\n      throw new Error(`Recursion detected at \\`${recurrentNode.id}\\``)\n\n    return true;\n  }\n\n  forwardProcess = (node, input) => {\n    if (input === undefined) return false;\n    const component = this.components[node.type];\n    let output = component.worker(node, input);\n\n    return node.outputs.reduce((_, outputNodeIds, idx) => {\n      let nextInput = output;\n      if (Array.isArray(output)) nextInput = output[idx];\n      return outputNodeIds.reduce((_, nodeId) => {\n        const nextNode = this.data.nodes.find(node => node.id === nodeId);\n        return this.forwardProcess(nextNode, nextInput);\n      }, true);\n    }, true);\n  }\n\n  process = (input, startId, json = null) => {\n    if (json) this.data = Object.assign({}, json);\n\n    if (!this.validate(this.data)) return false;\n\n    const { nodes } = this.data;\n\n    let node = nodes.find(node => node.id === startId);\n\n    this.forwardProcess(node, input);\n\n    return true;\n  }\n}\n\nexport default Engine;","import Component from \"../lib/Component\";\n\nclass Inject extends Component {\n  constructor() {\n    super(\"Inject\");\n  }\n\n  worker(node, input) {\n    return input;\n  }\n}\n\nexport default Inject;","import Component from \"../lib/Component\";\n\nclass Switch extends Component {\n  constructor() {\n    super(\"Switch\");\n  }\n\n  worker(node, input) {\n    return [input < 5 ? input : undefined, input >= 5 ? input : undefined];\n  }\n}\n\nexport default Switch;","import { Component } from \"../lib\";\n\nclass Debug extends Component {\n  constructor() {\n    super(\"Debug\");\n  }\n\n  worker(node, input) {\n    return null;\n  }\n}\n\nexport default Debug;","import App from './App';\n\nconst app = new App();\n\nconsole.log(\"app\", app);\n","import './css/App.css';\nimport Lib from './../lib';\nimport Inject from './Inject';\nimport Switch from './Switch';\nimport Debug from './Debug';\n\nclass App {\n  nodes = null;\n\n  constructor() {\n    this.engine = new Lib.Engine(\"0.1.0\");\n    this.engine.register(new Inject());\n    this.engine.register(new Switch());\n    this.engine.register(new Debug());\n  }\n\n  run(input, startId) {\n    const proses = this.engine.process(input, startId, {\n      \"version\": \"0.1.0\",\n      \"nodes\": this.nodes\n    });\n  }\n}\n\nexport default App;\n"],"sourceRoot":""}