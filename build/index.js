/*!
 * 
 *   fungsi-maju v0.0.2
 *   https://github.com/hodgef/js-library-boilerplate
 * 
 *   Copyright (c) Imanuel Pundoko (https://github.com/ilomon10)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(e,r){"object"===typeof exports&&"object"===typeof module?module.exports=r():"function"===typeof define&&define.amd?define("FungsiMaju",[],r):"object"===typeof exports?exports.FungsiMaju=r():e.FungsiMaju=r()}(this,(function(){return function(e){var r={};function __webpack_require__(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.d=function(e,r,n){__webpack_require__.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)__webpack_require__.d(n,t,function(r){return e[r]}.bind(null,t));return n},__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=0)}([function(e,r,n){"use strict";function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}n.r(r),n.d(r,"Engine",(function(){return i})),n.d(r,"Component",(function(){return t})),n.d(r,"Recursion",(function(){return o}));var t=function Component(e){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Component),_defineProperty(this,"name",null),_defineProperty(this,"engine",null),this.name=e};function _createForOfIteratorHelper(e,r){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||r&&e&&"number"===typeof e.length){n&&(e=n);var t=0,F=function(){};return{s:F,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function _toConsumableArray(e){return function(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,r){if(e){if("string"===typeof e)return _arrayLikeToArray(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Recursion_defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var o=function Recursion(e){var r=this;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Recursion),Recursion_defineProperty(this,"extractInputNode",(function(e){return r.nodes.filter((function(r){return!(r.outputs.length<1)&&-1!==r.outputs.reduce((function(e,r){return Array.isArray(r)?[].concat(_toConsumableArray(e),_toConsumableArray(r)):e})).indexOf(e.id)}))})),Recursion_defineProperty(this,"findSelf",(function(e,n){var t,o=(t=n,e.filter((function(e){return-1!==t.indexOf(e)})));if(o.length)return o[0];var i,u=_createForOfIteratorHelper(n);try{for(u.s();!(i=u.n()).done;){var a=i.value,f=[a].concat(_toConsumableArray(e)),c=r.findSelf(f,r.extractInputNode(a));if(c)return c}}catch(l){u.e(l)}finally{u.f()}return null})),Recursion_defineProperty(this,"detect",(function(){var e,n=_createForOfIteratorHelper(r.nodes);try{for(n.s();!(e=n.n()).done;){var t=e.value,o=r.findSelf([t],r.extractInputNode(t));if(o)return o}}catch(i){n.e(i)}finally{n.f()}return null})),this.nodes=e};function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Engine_defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var i=function Engine(e){var r=this;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Engine),Engine_defineProperty(this,"version",null),Engine_defineProperty(this,"components",{}),Engine_defineProperty(this,"data",null),Engine_defineProperty(this,"register",(function(e){if(!(e instanceof t))throw new Error("Not Valid Component");if(!e.name)throw new Error("Property name is `".concat(e.name,"`"));return e.engine=r,r.components[e.name]=e,r})),Engine_defineProperty(this,"validate",(function(e){if("object"!==_typeof(e))return!1;if(e.version!==r.version)throw new Error("Version not compatible");if(!Array.isArray(e.nodes))return!1;var n=new o(e.nodes).detect();if(n)throw new Error("Recursion detected at `".concat(n.id,"`"));return!0})),Engine_defineProperty(this,"forwardProcess",(function(e,n){if(void 0===n)return!1;var t=r.components[e.type].worker(e,n);return e.outputs.reduce((function(e,n,o){var i=t;return Array.isArray(t)&&(i=t[o]),n.reduce((function(e,n){var t=r.data.nodes.find((function(e){return e.id===n}));return r.forwardProcess(t,i)}),!0)}),!0)})),Engine_defineProperty(this,"process",(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&(r.data=Object.assign({},t)),!r.validate(r.data))return!1;var o=r.data.nodes,i=o.find((function(e){return e.id===n}));return r.forwardProcess(i,e),!0})),this.version=e};r.default={Engine:i,Component:t,Recursion:o}}])}));
//# sourceMappingURL=index.js.map